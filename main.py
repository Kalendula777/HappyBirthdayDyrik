import asyncio
from aiogram import Bot, Dispatcher
from apscheduler.schedulers.asyncio import AsyncIOScheduler
from datetime import time
import os

BOT_TOKEN = os.getenv("BOT_TOKEN")

# ID –≥—Ä—É–ø–ø—ã
GROUP_ID = -1002054071843

bot = Bot(token=BOT_TOKEN)
dp = Dispatcher()

# 60 —Ä–∞–∑–Ω—ã—Ö –Ω–æ–≤–æ–≥–æ–¥–Ω–∏—Ö –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–π
NEW_YEAR_MESSAGES = [
    "üéÑ –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å –æ–Ω –Ω–∞—á–Ω—ë—Ç—Å—è —è—Ä–∫–æ!",
    "ü•≥ –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å —Ä–∞–¥–æ—Å—Ç—å –±—É–¥–µ—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å!",
    "‚ú® –ü—É—Å—Ç—å –≤ –Ω–æ–≤–æ–º –≥–æ–¥—É —Å–±—ã–≤–∞—é—Ç—Å—è —Å–∞–º—ã–µ —Å–º–µ–ª—ã–µ –º–µ—á—Ç—ã!",
    "üéÜ –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –í–ø–µ—Ä—ë–¥ –∫ –Ω–æ–≤—ã–º –≤–µ—Ä—à–∏–Ω–∞–º!",
    "üçæ –ü—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ –ø—Ä–∏–Ω–µ—Å—ë—Ç –º–Ω–æ–≥–æ –ø–æ–≤–æ–¥–æ–≤ –¥–ª—è —É–ª—ã–±–æ–∫!",
    "üéÅ –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å –∂–∏–∑–Ω—å —Ä–∞–¥—É–µ—Ç —Å—é—Ä–ø—Ä–∏–∑–∞–º–∏!",
    "üåü –ü—É—Å—Ç—å —É–¥–∞—á–∞ —Å—Ç–∞–Ω–µ—Ç —Ç–≤–æ–∏–º –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–º —Å–ø—É—Ç–Ω–∏–∫–æ–º!",
    "‚ùÑÔ∏è –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –¢–µ–ø–ª–∞ –≤ –¥—É—à–µ –∏ –≤ –¥–æ–º–µ!",
    "üî• –ü—É—Å—Ç—å –Ω–æ–≤—ã–π –≥–æ–¥ –±—É–¥–µ—Ç –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É –≥–æ—Ä—è—á–∏–º!",
    "üí´ –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –±—É–¥–µ—Ç –æ—Å–æ–±–µ–Ω–Ω—ã–º!",

    "üéâ –ù–æ–≤—ã–π –≥–æ–¥ ‚Äî –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏!",
    "ü•Ç –ü–æ–¥–Ω–∏–º–∞–µ–º –±–æ–∫–∞–ª—ã –∑–∞ —Å—á–∞—Å—Ç—å–µ –≤ –Ω–æ–≤–æ–º –≥–æ–¥—É!",
    "üéÑ –ü—É—Å—Ç—å –Ω–æ–≤—ã–π –≥–æ–¥ –±—É–¥–µ—Ç –ª—É—á—à–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ!",
    "‚ú® –ñ–µ–ª–∞—é —è—Ä–∫–∏—Ö —ç–º–æ—Ü–∏–π –∏ –∫—Ä—É—Ç—ã—Ö —Å–æ–±—ã—Ç–∏–π!",
    "üéÜ –ü—É—Å—Ç—å —É—Å–ø–µ—Ö —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç —Ç–µ–±—è –≤–µ—Å—å –≥–æ–¥!",
    "üçæ –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å –≤—Å—ë –∑–∞–¥—É–º–∞–Ω–Ω–æ–µ –ø–æ–ª—É—á–∏—Ç—Å—è!",
    "üåü –ü—É—Å—Ç—å –≤ –Ω–æ–≤–æ–º –≥–æ–¥—É –±—É–¥–µ—Ç –±–æ–ª—å—à–µ —Ä–∞–¥–æ—Å—Ç–∏!",
    "üéÅ –ñ–µ–ª–∞—é –∑–¥–æ—Ä–æ–≤—å—è, —Å–∏–ª –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è!",
    "‚ùÑÔ∏è –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å –º–æ—Ä–æ–∑ –±—É–¥–µ—Ç —Ç–æ–ª—å–∫–æ –∑–∞ –æ–∫–Ω–æ–º!",
    "üî• –ü—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ –∑–∞–∂–∂—ë—Ç –Ω–æ–≤—ã–µ –∏–¥–µ–∏!",

    "üéâ –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å –æ–Ω –±—É–¥–µ—Ç —Å—á–∞—Å—Ç–ª–∏–≤—ã–º!",
    "ü•≥ –ü—É—Å—Ç—å –≤ –Ω–æ–≤–æ–º –≥–æ–¥—É –±—É–¥–µ—Ç –±–æ–ª—å—à–µ —Å–º–µ—Ö–∞!",
    "‚ú® –ñ–µ–ª–∞—é –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–≤–µ—Ç–Ω—ã—Ö –∂–µ–ª–∞–Ω–∏–π!",
    "üéÑ –ù–æ–≤—ã–π –≥–æ–¥ ‚Äî –≤—Ä–µ–º—è —á—É–¥–µ—Å!",
    "üéÜ –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –º–µ—Å—è—Ü —Ä–∞–¥—É–µ—Ç —á–µ–º-—Ç–æ —Ö–æ—Ä–æ—à–∏–º!",
    "üçæ –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å –∂–∏–∑–Ω—å —Å—Ç–∞–Ω–µ—Ç —è—Ä—á–µ!",
    "üåü –ü—É—Å—Ç—å —É—Å–ø–µ—Ö –Ω–∞–π–¥—ë—Ç —Ç–µ–±—è —Å–∞–º!",
    "üéÅ –ñ–µ–ª–∞—é –º–Ω–æ–≥–æ –ø—Ä–∏—è—Ç–Ω—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤!",
    "‚ùÑÔ∏è –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –£—é—Ç–∞ –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è!",
    "üî• –ü—É—Å—Ç—å —ç–Ω–µ—Ä–≥–∏—è –Ω–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è!",

    "üéâ –ü—É—Å—Ç—å –Ω–æ–≤—ã–π –≥–æ–¥ –ø—Ä–∏–Ω–µ—Å—ë—Ç —Ç–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–µ–µ!",
    "ü•Ç –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ó–∞ –Ω–æ–≤—ã–µ –ø–æ–±–µ–¥—ã!",
    "‚ú® –ü—É—Å—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –±—É–¥–µ—Ç —à–∞–≥–æ–º –∫ –º–µ—á—Ç–µ!",
    "üéÑ –ù–æ–≤—ã–π –≥–æ–¥ ‚Äî –Ω–æ–≤—ã–π —Å—Ç–∞—Ä—Ç!",
    "üéÜ –ü—É—Å—Ç—å –≤–ø–µ—Ä–µ–¥–∏ –±—É–¥–µ—Ç –º–Ω–æ–≥–æ —Ä–∞–¥–æ—Å—Ç–Ω—ã—Ö –¥–Ω–µ–π!",
    "üçæ –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å —É–¥–∞—á–∞ —É–ª—ã–±–∞–µ—Ç—Å—è!",
    "üåü –ü—É—Å—Ç—å —ç—Ç–æ—Ç –≥–æ–¥ —Å—Ç–∞–Ω–µ—Ç –Ω–µ–∑–∞–±—ã–≤–∞–µ–º—ã–º!",
    "üéÅ –ñ–µ–ª–∞—é —è—Ä–∫–∏—Ö –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–π!",
    "‚ùÑÔ∏è –° –ù–æ–≤—ã–º –≥–æ–¥–æ–º! –ü—É—Å—Ç—å –±—É–¥–µ—Ç –±–æ–ª—å—à–µ —Ç–µ–ø–ª–∞!",
    "üî• –ü—É—Å—Ç—å –Ω–æ–≤—ã–π –≥–æ–¥ –±—É–¥–µ—Ç –º–æ—â–Ω—ã–º –∏ —É—Å–ø–µ—à–Ω—ã–º!"
]



async def send_new_year_spam():
    for i in range(60):
        await bot.send_message(
            GROUP_ID,
            NEW_YEAR_MESSAGES[i]
        )
        await asyncio.sleep(1.2)  # 1 —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Å–µ–∫—É–Ω–¥—É


async def main():
    scheduler = AsyncIOScheduler(timezone="Europe/Moscow")

    # –†–û–í–ù–û –≤ 00:00
    scheduler.add_job(
        send_new_year_spam,
        trigger="cron",
        hour=0,
        minute=0
    )

    scheduler.start()
    await dp.start_polling(bot)


if __name__ == "__main__":
    asyncio.run(main())
